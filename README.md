# interpolate-sw-plugin

InterpolateSWPlugin is a webpack plugin that will replace , in your own implementation of a service worker, an auto generated cache version string and a list of webpack compiled assets for pre-cache purposes.

## Install

```bash
yarn add interpolate-sw-plugin --dev
```

## Usage

%SW_CACHE_VERSION%: An automatically generated version string for your cache. Use %SW_CACHE_VERSION% variable in your service worker:

```js    
  caches.open('cache-name-v' + '%SW_CACHE_VERSION%') ...
```
%SW_ASSET_FILES%: A coma-separated list of assets generated by webpack for pre-cache purposes. Use %SW_ASSET_FILES% variable in your service worker:

```js
  cache.addAll([%SW_ASSET_FILES%]);
```

Call the plugin from your webpack configuration:

```js
module.exports = {  
  plugins: [
    new InterpolateSWPlugin({
      // Your source sw template. Not opinionated service worker implementation having variables to be replaced.
      from: './public/sw.js',
      // Destination file inside your build directory, after replacing variables.
      to: 'sw.js',
      // Activate or deactivate replacement of the version variable %SW_CACHE_VERSION%
      replaceCacheVersion: true | false,
      // Activate or deactivate replacement of the files variable %SW_ASSET_FILES%
      replaceAssetFiles: true | false,
    }),
  ]
}
```
